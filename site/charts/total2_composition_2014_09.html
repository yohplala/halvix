<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TOTAL2 Composition Sep 2014 - Halvix</title>
    <style>
        :root {
            --bg-primary: #0d1117;
            --bg-secondary: #161b22;
            --text-primary: #e6edf3;
            --text-secondary: #8b949e;
            --accent-orange: #f7931a;
            --accent-blue: #58a6ff;
            --accent-green: #3fb950;
            --border-color: #30363d;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Noto Sans', Helvetica, Arial, sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            min-height: 100vh;
            line-height: 1.6;
        }

        header {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            padding: 2rem;
            text-align: center;
            border-bottom: 1px solid var(--border-color);
        }

        .logo {
            font-size: 2rem;
            margin-bottom: 0.25rem;
        }

        header h1 {
            font-size: 1.75rem;
            font-weight: 700;
            background: linear-gradient(90deg, var(--accent-orange), var(--accent-blue));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .subtitle {
            color: var(--text-secondary);
            font-size: 0.95rem;
            margin-top: 0.25rem;
        }

        nav {
            background: var(--bg-secondary);
            padding: 0.75rem 2rem;
            border-bottom: 1px solid var(--border-color);
        }

        nav ul {
            list-style: none;
            display: flex;
            gap: 2rem;
            justify-content: center;
        }

        nav a {
            color: var(--text-secondary);
            text-decoration: none;
            font-weight: 500;
            transition: color 0.2s;
        }

        nav a:hover {
            color: var(--accent-blue);
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }

        .page-title {
            color: var(--accent-blue);
            margin-bottom: 1rem;
        }

        .month-nav {
            margin-bottom: 1.5rem;
            display: flex;
            justify-content: center;
        }

        .month-nav-table {
            border-collapse: collapse;
            background: transparent;
        }

        .month-nav-table td {
            padding: 0.2rem 0.4rem;
            text-align: center;
            border: none;
            background: transparent;
        }

        .month-nav-table .year-label {
            font-weight: bold;
            color: var(--text-secondary);
            text-align: right;
            padding-right: 0.75rem;
            font-size: 0.85rem;
        }

        .month-nav .month-link {
            color: var(--accent-blue);
            text-decoration: none;
            font-family: monospace;
            font-size: 0.9rem;
        }

        .month-nav .month-link:hover {
            text-decoration: underline;
        }

        .month-nav .month-current {
            color: var(--accent-orange);
            font-weight: bold;
            font-family: monospace;
            font-size: 0.9rem;
        }

        .month-nav .month-empty {
            color: var(--border-color);
            font-family: monospace;
            font-size: 0.9rem;
        }

        select {
            padding: 0.5rem 1rem;
            font-size: 1rem;
            background: var(--bg-primary);
            color: var(--text-primary);
            border: 1px solid var(--border-color);
            border-radius: 4px;
            width: 100%;
            cursor: pointer;
        }

        .stats-row {
            display: flex;
            gap: 1.5rem;
            margin-bottom: 1.5rem;
            justify-content: center;
            flex-wrap: wrap;
        }

        .stat {
            background: var(--bg-secondary);
            padding: 1rem 1.5rem;
            border-radius: 8px;
            text-align: center;
            min-width: 160px;
        }

        .stat-label {
            font-size: 0.85rem;
            color: var(--text-secondary);
            margin-bottom: 0.25rem;
        }

        .stat-value {
            font-size: 1.25rem;
            font-weight: bold;
            color: var(--accent-green);
        }

        .stat-value.blue {
            color: var(--accent-blue);
        }

        .stat-value.orange {
            color: var(--accent-orange);
        }

        .changes-row {
            display: flex;
            gap: 1.5rem;
            margin-bottom: 1.5rem;
            justify-content: center;
            flex-wrap: wrap;
        }

        .changes-box {
            background: var(--bg-secondary);
            padding: 1rem 1.5rem;
            border-radius: 8px;
            text-align: center;
            min-width: 200px;
        }

        .changes-box .label {
            font-size: 0.85rem;
            color: var(--text-secondary);
            margin-bottom: 0.5rem;
        }

        .changes-box .coins {
            font-size: 0.95rem;
            font-weight: bold;
        }

        .changes-box .coins.added {
            color: var(--accent-green);
        }

        .changes-box .coins.removed {
            color: #f85149;
        }

        .changes-box .coins.none {
            color: var(--text-secondary);
            font-weight: normal;
            font-style: italic;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            background: var(--bg-secondary);
            border-radius: 8px;
            overflow: hidden;
        }

        th, td {
            padding: 0.75rem;
            text-align: left;
            border-bottom: 1px solid var(--border-color);
        }

        th {
            background: #21262d;
        }

        .coin-symbol {
            color: var(--accent-blue);
            font-weight: bold;
        }

        .weight {
            color: var(--accent-green);
        }

        footer {
            text-align: center;
            padding: 1.5rem;
            border-top: 1px solid var(--border-color);
            color: var(--text-secondary);
            font-size: 0.85rem;
            margin-top: 2rem;
        }

        footer a {
            color: var(--accent-blue);
            text-decoration: none;
        }

        footer a:hover {
            text-decoration: underline;
        }

        @media (max-width: 768px) {
            header h1 {
                font-size: 1.5rem;
            }

            nav ul {
                flex-wrap: wrap;
                gap: 1rem;
            }

            .stats-row {
                flex-direction: column;
                gap: 1rem;
            }

            .changes-row {
                flex-direction: column;
                gap: 1rem;
            }

            .stat, .changes-box {
                min-width: auto;
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="logo">ðŸ“Š</div>
        <h1>Halvix Charts</h1>
        <p class="subtitle">TOTAL2 Composition Viewer - Sep 2014</p>
    </header>

    <nav>
        <ul>
            <li><a href="../index.html">Data Status</a></li>
            <li><a href="../charts.html">Charts</a></li>
            <li><a href="https://github.com/yohplala/halvix">GitHub</a></li>
        </ul>
    </nav>

    <div class="container">
        <h2 class="page-title">ðŸ§© TOTAL2 Composition Viewer</h2>

        <div class="month-nav">
            <table class="month-nav-table">
                <tr><td class="year-label">2014</td><td><span class="month-empty">J</span></td><td><span class="month-empty">F</span></td><td><span class="month-empty">M</span></td><td><span class="month-empty">A</span></td><td><span class="month-empty">M</span></td><td><span class="month-empty">J</span></td><td><span class="month-empty">J</span></td><td><span class="month-empty">A</span></td><td><span class="month-current" title="Sep 2014">S</span></td><td><a href="total2_composition_2014_10.html" class="month-link" title="Oct 2014">O</a></td><td><a href="total2_composition_2014_11.html" class="month-link" title="Nov 2014">N</a></td><td><a href="total2_composition_2014_12.html" class="month-link" title="Dec 2014">D</a></td></tr>
<tr><td class="year-label">2015</td><td><a href="total2_composition_2015_01.html" class="month-link" title="Jan 2015">J</a></td><td><a href="total2_composition_2015_02.html" class="month-link" title="Feb 2015">F</a></td><td><a href="total2_composition_2015_03.html" class="month-link" title="Mar 2015">M</a></td><td><a href="total2_composition_2015_04.html" class="month-link" title="Apr 2015">A</a></td><td><a href="total2_composition_2015_05.html" class="month-link" title="May 2015">M</a></td><td><a href="total2_composition_2015_06.html" class="month-link" title="Jun 2015">J</a></td><td><a href="total2_composition_2015_07.html" class="month-link" title="Jul 2015">J</a></td><td><a href="total2_composition_2015_08.html" class="month-link" title="Aug 2015">A</a></td><td><a href="total2_composition_2015_09.html" class="month-link" title="Sep 2015">S</a></td><td><a href="total2_composition_2015_10.html" class="month-link" title="Oct 2015">O</a></td><td><a href="total2_composition_2015_11.html" class="month-link" title="Nov 2015">N</a></td><td><a href="total2_composition_2015_12.html" class="month-link" title="Dec 2015">D</a></td></tr>
<tr><td class="year-label">2016</td><td><a href="total2_composition_2016_01.html" class="month-link" title="Jan 2016">J</a></td><td><a href="total2_composition_2016_02.html" class="month-link" title="Feb 2016">F</a></td><td><a href="total2_composition_2016_03.html" class="month-link" title="Mar 2016">M</a></td><td><a href="total2_composition_2016_04.html" class="month-link" title="Apr 2016">A</a></td><td><a href="total2_composition_2016_05.html" class="month-link" title="May 2016">M</a></td><td><a href="total2_composition_2016_06.html" class="month-link" title="Jun 2016">J</a></td><td><a href="total2_composition_2016_07.html" class="month-link" title="Jul 2016">J</a></td><td><a href="total2_composition_2016_08.html" class="month-link" title="Aug 2016">A</a></td><td><a href="total2_composition_2016_09.html" class="month-link" title="Sep 2016">S</a></td><td><a href="total2_composition_2016_10.html" class="month-link" title="Oct 2016">O</a></td><td><a href="total2_composition_2016_11.html" class="month-link" title="Nov 2016">N</a></td><td><a href="total2_composition_2016_12.html" class="month-link" title="Dec 2016">D</a></td></tr>
<tr><td class="year-label">2017</td><td><a href="total2_composition_2017_01.html" class="month-link" title="Jan 2017">J</a></td><td><a href="total2_composition_2017_02.html" class="month-link" title="Feb 2017">F</a></td><td><a href="total2_composition_2017_03.html" class="month-link" title="Mar 2017">M</a></td><td><a href="total2_composition_2017_04.html" class="month-link" title="Apr 2017">A</a></td><td><a href="total2_composition_2017_05.html" class="month-link" title="May 2017">M</a></td><td><a href="total2_composition_2017_06.html" class="month-link" title="Jun 2017">J</a></td><td><a href="total2_composition_2017_07.html" class="month-link" title="Jul 2017">J</a></td><td><a href="total2_composition_2017_08.html" class="month-link" title="Aug 2017">A</a></td><td><a href="total2_composition_2017_09.html" class="month-link" title="Sep 2017">S</a></td><td><a href="total2_composition_2017_10.html" class="month-link" title="Oct 2017">O</a></td><td><a href="total2_composition_2017_11.html" class="month-link" title="Nov 2017">N</a></td><td><a href="total2_composition_2017_12.html" class="month-link" title="Dec 2017">D</a></td></tr>
<tr><td class="year-label">2018</td><td><a href="total2_composition_2018_01.html" class="month-link" title="Jan 2018">J</a></td><td><a href="total2_composition_2018_02.html" class="month-link" title="Feb 2018">F</a></td><td><a href="total2_composition_2018_03.html" class="month-link" title="Mar 2018">M</a></td><td><a href="total2_composition_2018_04.html" class="month-link" title="Apr 2018">A</a></td><td><a href="total2_composition_2018_05.html" class="month-link" title="May 2018">M</a></td><td><a href="total2_composition_2018_06.html" class="month-link" title="Jun 2018">J</a></td><td><a href="total2_composition_2018_07.html" class="month-link" title="Jul 2018">J</a></td><td><a href="total2_composition_2018_08.html" class="month-link" title="Aug 2018">A</a></td><td><a href="total2_composition_2018_09.html" class="month-link" title="Sep 2018">S</a></td><td><a href="total2_composition_2018_10.html" class="month-link" title="Oct 2018">O</a></td><td><a href="total2_composition_2018_11.html" class="month-link" title="Nov 2018">N</a></td><td><a href="total2_composition_2018_12.html" class="month-link" title="Dec 2018">D</a></td></tr>
<tr><td class="year-label">2019</td><td><a href="total2_composition_2019_01.html" class="month-link" title="Jan 2019">J</a></td><td><a href="total2_composition_2019_02.html" class="month-link" title="Feb 2019">F</a></td><td><a href="total2_composition_2019_03.html" class="month-link" title="Mar 2019">M</a></td><td><a href="total2_composition_2019_04.html" class="month-link" title="Apr 2019">A</a></td><td><a href="total2_composition_2019_05.html" class="month-link" title="May 2019">M</a></td><td><a href="total2_composition_2019_06.html" class="month-link" title="Jun 2019">J</a></td><td><a href="total2_composition_2019_07.html" class="month-link" title="Jul 2019">J</a></td><td><a href="total2_composition_2019_08.html" class="month-link" title="Aug 2019">A</a></td><td><a href="total2_composition_2019_09.html" class="month-link" title="Sep 2019">S</a></td><td><a href="total2_composition_2019_10.html" class="month-link" title="Oct 2019">O</a></td><td><a href="total2_composition_2019_11.html" class="month-link" title="Nov 2019">N</a></td><td><a href="total2_composition_2019_12.html" class="month-link" title="Dec 2019">D</a></td></tr>
<tr><td class="year-label">2020</td><td><a href="total2_composition_2020_01.html" class="month-link" title="Jan 2020">J</a></td><td><a href="total2_composition_2020_02.html" class="month-link" title="Feb 2020">F</a></td><td><a href="total2_composition_2020_03.html" class="month-link" title="Mar 2020">M</a></td><td><a href="total2_composition_2020_04.html" class="month-link" title="Apr 2020">A</a></td><td><a href="total2_composition_2020_05.html" class="month-link" title="May 2020">M</a></td><td><a href="total2_composition_2020_06.html" class="month-link" title="Jun 2020">J</a></td><td><a href="total2_composition_2020_07.html" class="month-link" title="Jul 2020">J</a></td><td><a href="total2_composition_2020_08.html" class="month-link" title="Aug 2020">A</a></td><td><a href="total2_composition_2020_09.html" class="month-link" title="Sep 2020">S</a></td><td><a href="total2_composition_2020_10.html" class="month-link" title="Oct 2020">O</a></td><td><a href="total2_composition_2020_11.html" class="month-link" title="Nov 2020">N</a></td><td><a href="total2_composition_2020_12.html" class="month-link" title="Dec 2020">D</a></td></tr>
<tr><td class="year-label">2021</td><td><a href="total2_composition_2021_01.html" class="month-link" title="Jan 2021">J</a></td><td><a href="total2_composition_2021_02.html" class="month-link" title="Feb 2021">F</a></td><td><a href="total2_composition_2021_03.html" class="month-link" title="Mar 2021">M</a></td><td><a href="total2_composition_2021_04.html" class="month-link" title="Apr 2021">A</a></td><td><a href="total2_composition_2021_05.html" class="month-link" title="May 2021">M</a></td><td><a href="total2_composition_2021_06.html" class="month-link" title="Jun 2021">J</a></td><td><a href="total2_composition_2021_07.html" class="month-link" title="Jul 2021">J</a></td><td><a href="total2_composition_2021_08.html" class="month-link" title="Aug 2021">A</a></td><td><a href="total2_composition_2021_09.html" class="month-link" title="Sep 2021">S</a></td><td><a href="total2_composition_2021_10.html" class="month-link" title="Oct 2021">O</a></td><td><a href="total2_composition_2021_11.html" class="month-link" title="Nov 2021">N</a></td><td><a href="total2_composition_2021_12.html" class="month-link" title="Dec 2021">D</a></td></tr>
<tr><td class="year-label">2022</td><td><a href="total2_composition_2022_01.html" class="month-link" title="Jan 2022">J</a></td><td><a href="total2_composition_2022_02.html" class="month-link" title="Feb 2022">F</a></td><td><a href="total2_composition_2022_03.html" class="month-link" title="Mar 2022">M</a></td><td><a href="total2_composition_2022_04.html" class="month-link" title="Apr 2022">A</a></td><td><a href="total2_composition_2022_05.html" class="month-link" title="May 2022">M</a></td><td><a href="total2_composition_2022_06.html" class="month-link" title="Jun 2022">J</a></td><td><a href="total2_composition_2022_07.html" class="month-link" title="Jul 2022">J</a></td><td><a href="total2_composition_2022_08.html" class="month-link" title="Aug 2022">A</a></td><td><a href="total2_composition_2022_09.html" class="month-link" title="Sep 2022">S</a></td><td><a href="total2_composition_2022_10.html" class="month-link" title="Oct 2022">O</a></td><td><a href="total2_composition_2022_11.html" class="month-link" title="Nov 2022">N</a></td><td><a href="total2_composition_2022_12.html" class="month-link" title="Dec 2022">D</a></td></tr>
<tr><td class="year-label">2023</td><td><a href="total2_composition_2023_01.html" class="month-link" title="Jan 2023">J</a></td><td><a href="total2_composition_2023_02.html" class="month-link" title="Feb 2023">F</a></td><td><a href="total2_composition_2023_03.html" class="month-link" title="Mar 2023">M</a></td><td><a href="total2_composition_2023_04.html" class="month-link" title="Apr 2023">A</a></td><td><a href="total2_composition_2023_05.html" class="month-link" title="May 2023">M</a></td><td><a href="total2_composition_2023_06.html" class="month-link" title="Jun 2023">J</a></td><td><a href="total2_composition_2023_07.html" class="month-link" title="Jul 2023">J</a></td><td><a href="total2_composition_2023_08.html" class="month-link" title="Aug 2023">A</a></td><td><a href="total2_composition_2023_09.html" class="month-link" title="Sep 2023">S</a></td><td><a href="total2_composition_2023_10.html" class="month-link" title="Oct 2023">O</a></td><td><a href="total2_composition_2023_11.html" class="month-link" title="Nov 2023">N</a></td><td><a href="total2_composition_2023_12.html" class="month-link" title="Dec 2023">D</a></td></tr>
<tr><td class="year-label">2024</td><td><a href="total2_composition_2024_01.html" class="month-link" title="Jan 2024">J</a></td><td><a href="total2_composition_2024_02.html" class="month-link" title="Feb 2024">F</a></td><td><a href="total2_composition_2024_03.html" class="month-link" title="Mar 2024">M</a></td><td><a href="total2_composition_2024_04.html" class="month-link" title="Apr 2024">A</a></td><td><a href="total2_composition_2024_05.html" class="month-link" title="May 2024">M</a></td><td><a href="total2_composition_2024_06.html" class="month-link" title="Jun 2024">J</a></td><td><a href="total2_composition_2024_07.html" class="month-link" title="Jul 2024">J</a></td><td><a href="total2_composition_2024_08.html" class="month-link" title="Aug 2024">A</a></td><td><a href="total2_composition_2024_09.html" class="month-link" title="Sep 2024">S</a></td><td><a href="total2_composition_2024_10.html" class="month-link" title="Oct 2024">O</a></td><td><a href="total2_composition_2024_11.html" class="month-link" title="Nov 2024">N</a></td><td><a href="total2_composition_2024_12.html" class="month-link" title="Dec 2024">D</a></td></tr>
<tr><td class="year-label">2025</td><td><a href="total2_composition_2025_01.html" class="month-link" title="Jan 2025">J</a></td><td><a href="total2_composition_2025_02.html" class="month-link" title="Feb 2025">F</a></td><td><a href="total2_composition_2025_03.html" class="month-link" title="Mar 2025">M</a></td><td><a href="total2_composition_2025_04.html" class="month-link" title="Apr 2025">A</a></td><td><a href="total2_composition_2025_05.html" class="month-link" title="May 2025">M</a></td><td><a href="total2_composition_2025_06.html" class="month-link" title="Jun 2025">J</a></td><td><a href="total2_composition_2025_07.html" class="month-link" title="Jul 2025">J</a></td><td><a href="total2_composition_2025_08.html" class="month-link" title="Aug 2025">A</a></td><td><a href="total2_composition_2025_09.html" class="month-link" title="Sep 2025">S</a></td><td><a href="total2_composition_2025_10.html" class="month-link" title="Oct 2025">O</a></td><td><a href="total2_composition_2025_11.html" class="month-link" title="Nov 2025">N</a></td><td><a href="total2_composition_2025_12.html" class="month-link" title="Dec 2025">D</a></td></tr>
            </table>
        </div>

        <div class="stats-row">
            <div class="stat">
                <div class="stat-label">Select Date</div>
                <select id="date-select">
                    <option value="2014-09-04 00:00:00">2014-09-04</option>
<option value="2014-09-05 00:00:00">2014-09-05</option>
<option value="2014-09-06 00:00:00">2014-09-06</option>
<option value="2014-09-07 00:00:00">2014-09-07</option>
<option value="2014-09-08 00:00:00">2014-09-08</option>
<option value="2014-09-09 00:00:00">2014-09-09</option>
<option value="2014-09-10 00:00:00">2014-09-10</option>
<option value="2014-09-11 00:00:00">2014-09-11</option>
<option value="2014-09-12 00:00:00">2014-09-12</option>
<option value="2014-09-13 00:00:00">2014-09-13</option>
<option value="2014-09-14 00:00:00">2014-09-14</option>
<option value="2014-09-15 00:00:00">2014-09-15</option>
<option value="2014-09-16 00:00:00">2014-09-16</option>
<option value="2014-09-17 00:00:00">2014-09-17</option>
<option value="2014-09-18 00:00:00">2014-09-18</option>
<option value="2014-09-19 00:00:00">2014-09-19</option>
<option value="2014-09-20 00:00:00">2014-09-20</option>
<option value="2014-09-21 00:00:00">2014-09-21</option>
<option value="2014-09-22 00:00:00">2014-09-22</option>
<option value="2014-09-23 00:00:00">2014-09-23</option>
<option value="2014-09-24 00:00:00">2014-09-24</option>
<option value="2014-09-25 00:00:00">2014-09-25</option>
<option value="2014-09-26 00:00:00">2014-09-26</option>
<option value="2014-09-27 00:00:00">2014-09-27</option>
<option value="2014-09-28 00:00:00">2014-09-28</option>
<option value="2014-09-29 00:00:00">2014-09-29</option>
<option value="2014-09-30 00:00:00">2014-09-30</option>
                </select>
            </div>
            <div class="stat">
                <div class="stat-label">TOTAL2 Value</div>
                <div class="stat-value" id="total2-value">-</div>
            </div>
            <div class="stat">
                <div class="stat-label">Coins in TOTAL2</div>
                <div class="stat-value blue" id="coin-count">-</div>
            </div>
            <div class="stat">
                <div class="stat-label">Total Volume</div>
                <div class="stat-value" id="total-volume">-</div>
            </div>
        </div>

        <div class="changes-row">
            <div class="changes-box">
                <div class="label">â†‘ New vs Previous Day</div>
                <div class="coins added" id="coins-added">-</div>
            </div>
            <div class="changes-box">
                <div class="label">â†“ Removed vs Previous Day</div>
                <div class="coins removed" id="coins-removed">-</div>
            </div>
        </div>

        <table id="composition-table">
            <thead>
                <tr>
                    <th>Rank</th>
                    <th>Coin</th>
                    <th>Weight</th>
                    <th>Price (BTC)</th>
                    <th>Volume (BTC)</th>
                </tr>
            </thead>
            <tbody id="composition-body">
            </tbody>
        </table>
    </div>

    <footer>
        <p>
            Generated by <strong>Halvix</strong> â€¢
            <a href="https://github.com/yohplala/halvix">Source Code</a> â€¢
            Data from <a href="https://www.cryptocompare.com/">CryptoCompare</a>
        </p>
    </footer>

    <script>
        const compositionData = {"2014-09-04 00:00:00": {"total2_value": 0.006868773392566975, "coins": [{"rank": 1, "coin_id": "DASH", "volume": 5.928978333333333, "weight": 88.86267528142479, "price_btc": 0.006373}, {"rank": 2, "coin_id": "LTC", "volume": 0.7413406333333333, "weight": 11.111106883702975, "price_btc": 0.01085}]}, "2014-09-05 00:00:00": {"total2_value": 0.006242783605832326, "coins": [{"rank": 1, "coin_id": "DASH", "volume": 5.993028333333333, "weight": 88.40137669040917, "price_btc": 0.00588}, {"rank": 2, "coin_id": "LTC", "volume": 0.7847239666666666, "weight": 11.575229602945656, "price_btc": 0.009024}, {"rank": 3, "coin_id": "PPC", "volume": 0.0015859384999999998, "weight": 0.02339370664519175, "price_btc": 0.001}]}, "2014-09-06 00:00:00": {"total2_value": 0.006680060441225491, "coins": [{"rank": 1, "coin_id": "DASH", "volume": 5.869528333333333, "weight": 87.71221173895506, "price_btc": 0.006205}, {"rank": 2, "coin_id": "LTC", "volume": 0.8204889666666666, "weight": 12.261104791851777, "price_btc": 0.01008}, {"rank": 3, "coin_id": "PPC", "volume": 0.0017856051666666664, "weight": 0.026683469193153023, "price_btc": 0.00599}]}, "2014-09-07 00:00:00": {"total2_value": 0.006499409500035938, "coins": [{"rank": 1, "coin_id": "DASH", "volume": 5.873428333333333, "weight": 87.75545397776317, "price_btc": 0.006022}, {"rank": 2, "coin_id": "LTC", "volume": 0.8177356333333333, "weight": 12.217866238308918, "price_btc": 0.00994}, {"rank": 3, "coin_id": "PPC", "volume": 0.0017856645, "weight": 0.02667978392792321, "price_btc": 0.0012}]}, "2014-09-08 00:00:00": {"total2_value": 0.006488648158725831, "coins": [{"rank": 1, "coin_id": "DASH", "volume": 5.815961666666667, "weight": 87.59891388928305, "price_btc": 0.005853}, {"rank": 2, "coin_id": "LTC", "volume": 0.8215606333333334, "weight": 12.374190769974387, "price_btc": 0.011}, {"rank": 3, "coin_id": "PPC", "volume": 0.0017856645, "weight": 0.02689534074255699, "price_btc": 0.0012}]}, "2014-09-09 00:00:00": {"total2_value": 0.006599056390141492, "coins": [{"rank": 1, "coin_id": "DASH", "volume": 5.798595000000001, "weight": 87.59200820948811, "price_btc": 0.00612}, {"rank": 2, "coin_id": "LTC", "volume": 0.8196239666666666, "weight": 12.38101802539406, "price_btc": 0.01}, {"rank": 3, "coin_id": "PPC", "volume": 0.0017856645, "weight": 0.026973765117824483, "price_btc": 0.0012}]}, "2014-09-10 00:00:00": {"total2_value": 0.007112157095140299, "coins": [{"rank": 1, "coin_id": "DASH", "volume": 5.771545000000001, "weight": 87.58230314229647, "price_btc": 0.0058}, {"rank": 2, "coin_id": "LTC", "volume": 0.8165223, "weight": 12.390599674964871, "price_btc": 0.0164}, {"rank": 3, "coin_id": "PPC", "volume": 0.0017856645, "weight": 0.02709718273866655, "price_btc": 0.0012}]}, "2014-09-11 00:00:00": {"total2_value": 0.0064957342118709405, "coins": [{"rank": 1, "coin_id": "DASH", "volume": 5.805095, "weight": 87.73565362137262, "price_btc": 0.005791}, {"rank": 2, "coin_id": "LTC", "volume": 0.8096939666666666, "weight": 12.237358630441344, "price_btc": 0.01156}, {"rank": 3, "coin_id": "PPC", "volume": 0.0017856645, "weight": 0.02698774818602995, "price_btc": 0.0012}]}, "2014-09-12 00:00:00": {"total2_value": 0.006492167537852327, "coins": [{"rank": 1, "coin_id": "DASH", "volume": 5.714411666666667, "weight": 87.52591824352551, "price_btc": 0.005867}, {"rank": 2, "coin_id": "LTC", "volume": 0.8126249666666666, "weight": 12.446731272443207, "price_btc": 0.0109}, {"rank": 3, "coin_id": "PPC", "volume": 0.0017856645, "weight": 0.027350484031286832, "price_btc": 0.0012}]}, "2014-09-13 00:00:00": {"total2_value": 0.006669944733316592, "coins": [{"rank": 1, "coin_id": "DASH", "volume": 5.662661666666667, "weight": 87.33220161747725, "price_btc": 0.006016}, {"rank": 2, "coin_id": "LTC", "volume": 0.8196004333333333, "weight": 12.64025903418888, "price_btc": 0.0112}, {"rank": 3, "coin_id": "PPC", "volume": 0.0017856645, "weight": 0.027539348333867446, "price_btc": 0.0012}]}, "2014-09-14 00:00:00": {"total2_value": 0.0066101616546452675, "coins": [{"rank": 1, "coin_id": "DASH", "volume": 5.617228333333333, "weight": 85.89061162125515, "price_btc": 0.005861}, {"rank": 2, "coin_id": "LTC", "volume": 0.9209654333333334, "weight": 14.082084554339987, "price_btc": 0.01119}, {"rank": 3, "coin_id": "PPC", "volume": 0.0017856645, "weight": 0.027303824404864455, "price_btc": 0.0012}]}, "2014-09-15 00:00:00": {"total2_value": 0.0070781982415890595, "coins": [{"rank": 1, "coin_id": "DASH", "volume": 5.683011666666667, "weight": 85.95239867014638, "price_btc": 0.006455}, {"rank": 2, "coin_id": "LTC", "volume": 0.9270154333333332, "weight": 14.020594144931692, "price_btc": 0.01091}, {"rank": 3, "coin_id": "PPC", "volume": 0.0017856645, "weight": 0.027007184921925654, "price_btc": 0.0012}]}, "2014-09-16 00:00:00": {"total2_value": 0.007528361270369013, "coins": [{"rank": 1, "coin_id": "DASH", "volume": 5.6274283333333335, "weight": 85.76971693570313, "price_btc": 0.00703}, {"rank": 2, "coin_id": "LTC", "volume": 0.9318760166666666, "weight": 14.20306709109648, "price_btc": 0.01055}, {"rank": 3, "coin_id": "PPC", "volume": 0.0017856645, "weight": 0.02721597320039329, "price_btc": 0.0012}]}, "2014-09-17 00:00:00": {"total2_value": 0.00851695606607702, "coins": [{"rank": 1, "coin_id": "DASH", "volume": 5.7368950000000005, "weight": 85.29569200498638, "price_btc": 0.00803}, {"rank": 2, "coin_id": "LTC", "volume": 0.9872100166666667, "weight": 14.677758879295762, "price_btc": 0.01136}, {"rank": 3, "coin_id": "PPC", "volume": 0.0017856645, "weight": 0.026549115717864454, "price_btc": 0.0012}]}, "2014-09-18 00:00:00": {"total2_value": 0.00975183969363671, "coins": [{"rank": 1, "coin_id": "DASH", "volume": 5.855761666666666, "weight": 85.02933812572935, "price_btc": 0.009079}, {"rank": 2, "coin_id": "LTC", "volume": 1.02920685, "weight": 14.94473003369049, "price_btc": 0.01359}, {"rank": 3, "coin_id": "PPC", "volume": 0.0017858621666666664, "weight": 0.02593184058016608, "price_btc": 0.004}]}, "2014-09-19 00:00:00": {"total2_value": 0.009205132577218434, "coins": [{"rank": 1, "coin_id": "DASH", "volume": 5.919845, "weight": 84.86412464955225, "price_btc": 0.00888}, {"rank": 2, "coin_id": "LTC", "volume": 1.0540435166666666, "weight": 15.11027406704946, "price_btc": 0.01104}, {"rank": 3, "coin_id": "PPC", "volume": 0.0017858621666666664, "weight": 0.025601283398284828, "price_btc": 0.004}]}, "2014-09-20 00:00:00": {"total2_value": 0.008052144800030617, "coins": [{"rank": 1, "coin_id": "DASH", "volume": 5.916411666666666, "weight": 85.46920805746228, "price_btc": 0.007604}, {"rank": 2, "coin_id": "LTC", "volume": 1.0040751833333335, "weight": 14.504993158801144, "price_btc": 0.0107}, {"rank": 3, "coin_id": "PPC", "volume": 0.0017858621666666664, "weight": 0.02579878373655829, "price_btc": 0.004}]}, "2014-09-21 00:00:00": {"total2_value": 0.007943655915902561, "coins": [{"rank": 1, "coin_id": "DASH", "volume": 5.908095, "weight": 85.36558341354099, "price_btc": 0.00748}, {"rank": 2, "coin_id": "LTC", "volume": 1.0110523333333332, "weight": 14.608612809479519, "price_btc": 0.01066}, {"rank": 3, "coin_id": "PPC", "volume": 0.0017858621666666664, "weight": 0.02580377697949514, "price_btc": 0.004}]}, "2014-09-22 00:00:00": {"total2_value": 0.008475506828130475, "coins": [{"rank": 1, "coin_id": "DASH", "volume": 5.8777833333333325, "weight": 85.9571166473475, "price_btc": 0.00815}, {"rank": 2, "coin_id": "LTC", "volume": 0.9584723333333333, "weight": 14.0167667787894, "price_btc": 0.01048}, {"rank": 3, "coin_id": "PPC", "volume": 0.0017858621666666664, "weight": 0.026116573863092053, "price_btc": 0.004}]}, "2014-09-23 00:00:00": {"total2_value": 0.008350069398106676, "coins": [{"rank": 1, "coin_id": "DASH", "volume": 5.896200000000001, "weight": 85.83217998193481, "price_btc": 0.007921}, {"rank": 2, "coin_id": "LTC", "volume": 0.9696156666666667, "weight": 14.114892034638757, "price_btc": 0.01098}, {"rank": 3, "coin_id": "PPC", "volume": 0.0036358621666666663, "weight": 0.052927983426417136, "price_btc": 0.00281}]}, "2014-09-24 00:00:00": {"total2_value": 0.007970019063391592, "coins": [{"rank": 1, "coin_id": "DASH", "volume": 5.910416666666666, "weight": 85.33293911710797, "price_btc": 0.007693}, {"rank": 2, "coin_id": "LTC", "volume": 0.9894823333333332, "weight": 14.28586857234328, "price_btc": 0.009752}, {"rank": 3, "coin_id": "PPC", "volume": 0.026402528833333334, "weight": 0.38119231054875224, "price_btc": 0.0032}]}, "2014-09-25 00:00:00": {"total2_value": 0.007866370227751532, "coins": [{"rank": 1, "coin_id": "DASH", "volume": 6.05985, "weight": 84.67655863689339, "price_btc": 0.00738}, {"rank": 2, "coin_id": "LTC", "volume": 1.0579661666666667, "weight": 14.783358358309087, "price_btc": 0.01083}, {"rank": 3, "coin_id": "PPC", "volume": 0.03865086216666667, "weight": 0.5400830047975173, "price_btc": 0.003}]}, "2014-09-26 00:00:00": {"total2_value": 0.007675709399891282, "coins": [{"rank": 1, "coin_id": "DASH", "volume": 5.983266666666666, "weight": 84.10002906755923, "price_btc": 0.007101}, {"rank": 2, "coin_id": "LTC", "volume": 1.0924278333333333, "weight": 15.355025549734941, "price_btc": 0.011}, {"rank": 3, "coin_id": "PPC", "volume": 0.0387699455, "weight": 0.5449453827058275, "price_btc": 0.0027}]}, "2014-09-27 00:00:00": {"total2_value": 0.007878135861651666, "coins": [{"rank": 1, "coin_id": "DASH", "volume": 5.905348333333333, "weight": 83.63051793662991, "price_btc": 0.007314}, {"rank": 2, "coin_id": "LTC", "volume": 1.1171178333333331, "weight": 15.820428825606244, "price_btc": 0.01104}, {"rank": 3, "coin_id": "PPC", "volume": 0.0387699455, "weight": 0.5490532377638317, "price_btc": 0.0027}]}, "2014-09-28 00:00:00": {"total2_value": 0.008316649303430687, "coins": [{"rank": 1, "coin_id": "DASH", "volume": 5.8032, "weight": 82.52067506743259, "price_btc": 0.007775}, {"rank": 2, "coin_id": "LTC", "volume": 1.1904495, "weight": 16.928021845479666, "price_btc": 0.01114}, {"rank": 3, "coin_id": "PPC", "volume": 0.0387699455, "weight": 0.5513030870877396, "price_btc": 0.0027}]}, "2014-09-29 00:00:00": {"total2_value": 0.008092382664285618, "coins": [{"rank": 1, "coin_id": "DASH", "volume": 5.71745, "weight": 82.4538724049587, "price_btc": 0.007464}, {"rank": 2, "coin_id": "LTC", "volume": 1.1778995, "weight": 16.98700908252187, "price_btc": 0.01132}, {"rank": 3, "coin_id": "PPC", "volume": 0.0387699455, "weight": 0.5591185125194279, "price_btc": 0.0027}]}, "2014-09-30 00:00:00": {"total2_value": 0.007888904550037535, "coins": [{"rank": 1, "coin_id": "DASH", "volume": 5.660266666666668, "weight": 81.29566415747986, "price_btc": 0.007107}, {"rank": 2, "coin_id": "LTC", "volume": 1.2625494999999998, "weight": 18.133385965477615, "price_btc": 0.01157}, {"rank": 3, "coin_id": "PPC", "volume": 0.03975277883333333, "weight": 0.5709498770425256, "price_btc": 0.00231}]}};
        const sortedDates = Object.keys(compositionData).sort();

        function getPreviousDate(dateStr) {
            const idx = sortedDates.indexOf(dateStr);
            if (idx > 0) {
                return sortedDates[idx - 1];
            }
            return null;
        }

        function updateTable(dateStr) {
            const dayData = compositionData[dateStr];
            const tbody = document.getElementById('composition-body');

            if (!dayData || !dayData.coins || dayData.coins.length === 0) {
                tbody.innerHTML = '<tr><td colspan="5">No data for this date</td></tr>';
                document.getElementById('total2-value').textContent = '-';
                document.getElementById('coin-count').textContent = '-';
                document.getElementById('total-volume').textContent = '-';
                document.getElementById('coins-added').textContent = '-';
                document.getElementById('coins-added').className = 'coins none';
                document.getElementById('coins-removed').textContent = '-';
                document.getElementById('coins-removed').className = 'coins none';
                return;
            }

            const coins = dayData.coins;
            const total2Value = dayData.total2_value;

            // Display TOTAL2 value
            if (total2Value !== null && total2Value !== undefined) {
                document.getElementById('total2-value').textContent = total2Value.toFixed(8) + ' BTC';
            } else {
                document.getElementById('total2-value').textContent = '-';
            }

            document.getElementById('coin-count').textContent = coins.length;
            const totalVol = coins.reduce((sum, c) => sum + c.volume, 0);
            document.getElementById('total-volume').textContent = totalVol.toFixed(2) + ' BTC';

            // Calculate changes vs previous day
            const prevDateStr = getPreviousDate(dateStr);
            const prevData = prevDateStr ? compositionData[prevDateStr] : null;

            if (prevData && prevData.coins) {
                const currentCoins = new Set(coins.map(c => c.coin_id));
                const prevCoins = new Set(prevData.coins.map(c => c.coin_id));

                const added = [...currentCoins].filter(c => !prevCoins.has(c));
                const removed = [...prevCoins].filter(c => !currentCoins.has(c));

                const addedEl = document.getElementById('coins-added');
                const removedEl = document.getElementById('coins-removed');

                if (added.length > 0) {
                    addedEl.textContent = added.join(', ');
                    addedEl.className = 'coins added';
                } else {
                    addedEl.textContent = 'None';
                    addedEl.className = 'coins none';
                }

                if (removed.length > 0) {
                    removedEl.textContent = removed.join(', ');
                    removedEl.className = 'coins removed';
                } else {
                    removedEl.textContent = 'None';
                    removedEl.className = 'coins none';
                }
            } else {
                document.getElementById('coins-added').textContent = 'N/A (first day)';
                document.getElementById('coins-added').className = 'coins none';
                document.getElementById('coins-removed').textContent = 'N/A (first day)';
                document.getElementById('coins-removed').className = 'coins none';
            }

            tbody.innerHTML = coins.map(coin => `
                <tr>
                    <td>${coin.rank}</td>
                    <td class="coin-symbol">${coin.coin_id}</td>
                    <td class="weight">${coin.weight.toFixed(2)}%</td>
                    <td>${coin.price_btc.toFixed(8)}</td>
                    <td>${coin.volume.toFixed(2)}</td>
                </tr>
            `).join('');
        }

        document.getElementById('date-select').addEventListener('change', (e) => {
            updateTable(e.target.value);
        });

        // Initialize with last date
        const select = document.getElementById('date-select');
        select.selectedIndex = select.options.length - 1;
        updateTable(select.value);
    </script>
</body>
</html>
