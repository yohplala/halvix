<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TOTAL2 Composition Oct 2014 - Halvix</title>
    <style>
        :root {
            --bg-primary: #0d1117;
            --bg-secondary: #161b22;
            --text-primary: #e6edf3;
            --text-secondary: #8b949e;
            --accent-orange: #f7931a;
            --accent-blue: #58a6ff;
            --accent-green: #3fb950;
            --border-color: #30363d;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Noto Sans', Helvetica, Arial, sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            min-height: 100vh;
            line-height: 1.6;
        }

        header {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            padding: 2rem;
            text-align: center;
            border-bottom: 1px solid var(--border-color);
        }

        .logo {
            font-size: 2rem;
            margin-bottom: 0.25rem;
        }

        header h1 {
            font-size: 1.75rem;
            font-weight: 700;
            background: linear-gradient(90deg, var(--accent-orange), var(--accent-blue));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .subtitle {
            color: var(--text-secondary);
            font-size: 0.95rem;
            margin-top: 0.25rem;
        }

        nav {
            background: var(--bg-secondary);
            padding: 0.75rem 2rem;
            border-bottom: 1px solid var(--border-color);
        }

        nav ul {
            list-style: none;
            display: flex;
            gap: 2rem;
            justify-content: center;
        }

        nav a {
            color: var(--text-secondary);
            text-decoration: none;
            font-weight: 500;
            transition: color 0.2s;
        }

        nav a:hover {
            color: var(--accent-blue);
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }

        .page-title {
            color: var(--accent-blue);
            margin-bottom: 1rem;
        }

        .month-nav {
            margin-bottom: 1.5rem;
            display: flex;
            justify-content: center;
        }

        .month-nav-table {
            border-collapse: collapse;
            background: transparent;
        }

        .month-nav-table td {
            padding: 0.2rem 0.4rem;
            text-align: center;
            border: none;
            background: transparent;
        }

        .month-nav-table .year-label {
            font-weight: bold;
            color: var(--text-secondary);
            text-align: right;
            padding-right: 0.75rem;
            font-size: 0.85rem;
        }

        .month-nav .month-link {
            color: var(--accent-blue);
            text-decoration: none;
            font-family: monospace;
            font-size: 0.9rem;
        }

        .month-nav .month-link:hover {
            text-decoration: underline;
        }

        .month-nav .month-current {
            color: var(--accent-orange);
            font-weight: bold;
            font-family: monospace;
            font-size: 0.9rem;
        }

        .month-nav .month-empty {
            color: var(--border-color);
            font-family: monospace;
            font-size: 0.9rem;
        }

        select {
            padding: 0.5rem 1rem;
            font-size: 1rem;
            background: var(--bg-primary);
            color: var(--text-primary);
            border: 1px solid var(--border-color);
            border-radius: 4px;
            width: 100%;
            cursor: pointer;
        }

        .stats-row {
            display: flex;
            gap: 1.5rem;
            margin-bottom: 1.5rem;
            justify-content: center;
            flex-wrap: wrap;
        }

        .stat {
            background: var(--bg-secondary);
            padding: 1rem 1.5rem;
            border-radius: 8px;
            text-align: center;
            min-width: 160px;
        }

        .stat-label {
            font-size: 0.85rem;
            color: var(--text-secondary);
            margin-bottom: 0.25rem;
        }

        .stat-value {
            font-size: 1.25rem;
            font-weight: bold;
            color: var(--accent-green);
        }

        .stat-value.blue {
            color: var(--accent-blue);
        }

        .stat-value.orange {
            color: var(--accent-orange);
        }

        .changes-row {
            display: flex;
            gap: 1.5rem;
            margin-bottom: 1.5rem;
            justify-content: center;
            flex-wrap: wrap;
        }

        .changes-box {
            background: var(--bg-secondary);
            padding: 1rem 1.5rem;
            border-radius: 8px;
            text-align: center;
            min-width: 200px;
        }

        .changes-box .label {
            font-size: 0.85rem;
            color: var(--text-secondary);
            margin-bottom: 0.5rem;
        }

        .changes-box .coins {
            font-size: 0.95rem;
            font-weight: bold;
        }

        .changes-box .coins.added {
            color: var(--accent-green);
        }

        .changes-box .coins.removed {
            color: #f85149;
        }

        .changes-box .coins.none {
            color: var(--text-secondary);
            font-weight: normal;
            font-style: italic;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            background: var(--bg-secondary);
            border-radius: 8px;
            overflow: hidden;
        }

        th, td {
            padding: 0.75rem;
            text-align: left;
            border-bottom: 1px solid var(--border-color);
        }

        th {
            background: #21262d;
        }

        .coin-symbol {
            color: var(--accent-blue);
            font-weight: bold;
        }

        .weight {
            color: var(--accent-green);
        }

        footer {
            text-align: center;
            padding: 1.5rem;
            border-top: 1px solid var(--border-color);
            color: var(--text-secondary);
            font-size: 0.85rem;
            margin-top: 2rem;
        }

        footer a {
            color: var(--accent-blue);
            text-decoration: none;
        }

        footer a:hover {
            text-decoration: underline;
        }

        @media (max-width: 768px) {
            header h1 {
                font-size: 1.5rem;
            }

            nav ul {
                flex-wrap: wrap;
                gap: 1rem;
            }

            .stats-row {
                flex-direction: column;
                gap: 1rem;
            }

            .changes-row {
                flex-direction: column;
                gap: 1rem;
            }

            .stat, .changes-box {
                min-width: auto;
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="logo">ðŸ“Š</div>
        <h1>Halvix Charts</h1>
        <p class="subtitle">TOTAL2 Composition Viewer - Oct 2014</p>
    </header>

    <nav>
        <ul>
            <li><a href="../index.html">Data Status</a></li>
            <li><a href="../charts.html">Charts</a></li>
            <li><a href="https://github.com/yohplala/halvix">GitHub</a></li>
        </ul>
    </nav>

    <div class="container">
        <h2 class="page-title">ðŸ§© TOTAL2 Composition Viewer</h2>

        <div class="month-nav">
            <table class="month-nav-table">
                <tr><td class="year-label">2014</td><td><span class="month-empty">J</span></td><td><span class="month-empty">F</span></td><td><span class="month-empty">M</span></td><td><span class="month-empty">A</span></td><td><span class="month-empty">M</span></td><td><span class="month-empty">J</span></td><td><span class="month-empty">J</span></td><td><span class="month-empty">A</span></td><td><a href="total2_composition_2014_09.html" class="month-link" title="Sep 2014">S</a></td><td><span class="month-current" title="Oct 2014">O</span></td><td><a href="total2_composition_2014_11.html" class="month-link" title="Nov 2014">N</a></td><td><a href="total2_composition_2014_12.html" class="month-link" title="Dec 2014">D</a></td></tr>
<tr><td class="year-label">2015</td><td><a href="total2_composition_2015_01.html" class="month-link" title="Jan 2015">J</a></td><td><a href="total2_composition_2015_02.html" class="month-link" title="Feb 2015">F</a></td><td><a href="total2_composition_2015_03.html" class="month-link" title="Mar 2015">M</a></td><td><a href="total2_composition_2015_04.html" class="month-link" title="Apr 2015">A</a></td><td><a href="total2_composition_2015_05.html" class="month-link" title="May 2015">M</a></td><td><a href="total2_composition_2015_06.html" class="month-link" title="Jun 2015">J</a></td><td><a href="total2_composition_2015_07.html" class="month-link" title="Jul 2015">J</a></td><td><a href="total2_composition_2015_08.html" class="month-link" title="Aug 2015">A</a></td><td><a href="total2_composition_2015_09.html" class="month-link" title="Sep 2015">S</a></td><td><a href="total2_composition_2015_10.html" class="month-link" title="Oct 2015">O</a></td><td><a href="total2_composition_2015_11.html" class="month-link" title="Nov 2015">N</a></td><td><a href="total2_composition_2015_12.html" class="month-link" title="Dec 2015">D</a></td></tr>
<tr><td class="year-label">2016</td><td><a href="total2_composition_2016_01.html" class="month-link" title="Jan 2016">J</a></td><td><a href="total2_composition_2016_02.html" class="month-link" title="Feb 2016">F</a></td><td><a href="total2_composition_2016_03.html" class="month-link" title="Mar 2016">M</a></td><td><a href="total2_composition_2016_04.html" class="month-link" title="Apr 2016">A</a></td><td><a href="total2_composition_2016_05.html" class="month-link" title="May 2016">M</a></td><td><a href="total2_composition_2016_06.html" class="month-link" title="Jun 2016">J</a></td><td><a href="total2_composition_2016_07.html" class="month-link" title="Jul 2016">J</a></td><td><a href="total2_composition_2016_08.html" class="month-link" title="Aug 2016">A</a></td><td><a href="total2_composition_2016_09.html" class="month-link" title="Sep 2016">S</a></td><td><a href="total2_composition_2016_10.html" class="month-link" title="Oct 2016">O</a></td><td><a href="total2_composition_2016_11.html" class="month-link" title="Nov 2016">N</a></td><td><a href="total2_composition_2016_12.html" class="month-link" title="Dec 2016">D</a></td></tr>
<tr><td class="year-label">2017</td><td><a href="total2_composition_2017_01.html" class="month-link" title="Jan 2017">J</a></td><td><a href="total2_composition_2017_02.html" class="month-link" title="Feb 2017">F</a></td><td><a href="total2_composition_2017_03.html" class="month-link" title="Mar 2017">M</a></td><td><a href="total2_composition_2017_04.html" class="month-link" title="Apr 2017">A</a></td><td><a href="total2_composition_2017_05.html" class="month-link" title="May 2017">M</a></td><td><a href="total2_composition_2017_06.html" class="month-link" title="Jun 2017">J</a></td><td><a href="total2_composition_2017_07.html" class="month-link" title="Jul 2017">J</a></td><td><a href="total2_composition_2017_08.html" class="month-link" title="Aug 2017">A</a></td><td><a href="total2_composition_2017_09.html" class="month-link" title="Sep 2017">S</a></td><td><a href="total2_composition_2017_10.html" class="month-link" title="Oct 2017">O</a></td><td><a href="total2_composition_2017_11.html" class="month-link" title="Nov 2017">N</a></td><td><a href="total2_composition_2017_12.html" class="month-link" title="Dec 2017">D</a></td></tr>
<tr><td class="year-label">2018</td><td><a href="total2_composition_2018_01.html" class="month-link" title="Jan 2018">J</a></td><td><a href="total2_composition_2018_02.html" class="month-link" title="Feb 2018">F</a></td><td><a href="total2_composition_2018_03.html" class="month-link" title="Mar 2018">M</a></td><td><a href="total2_composition_2018_04.html" class="month-link" title="Apr 2018">A</a></td><td><a href="total2_composition_2018_05.html" class="month-link" title="May 2018">M</a></td><td><a href="total2_composition_2018_06.html" class="month-link" title="Jun 2018">J</a></td><td><a href="total2_composition_2018_07.html" class="month-link" title="Jul 2018">J</a></td><td><a href="total2_composition_2018_08.html" class="month-link" title="Aug 2018">A</a></td><td><a href="total2_composition_2018_09.html" class="month-link" title="Sep 2018">S</a></td><td><a href="total2_composition_2018_10.html" class="month-link" title="Oct 2018">O</a></td><td><a href="total2_composition_2018_11.html" class="month-link" title="Nov 2018">N</a></td><td><a href="total2_composition_2018_12.html" class="month-link" title="Dec 2018">D</a></td></tr>
<tr><td class="year-label">2019</td><td><a href="total2_composition_2019_01.html" class="month-link" title="Jan 2019">J</a></td><td><a href="total2_composition_2019_02.html" class="month-link" title="Feb 2019">F</a></td><td><a href="total2_composition_2019_03.html" class="month-link" title="Mar 2019">M</a></td><td><a href="total2_composition_2019_04.html" class="month-link" title="Apr 2019">A</a></td><td><a href="total2_composition_2019_05.html" class="month-link" title="May 2019">M</a></td><td><a href="total2_composition_2019_06.html" class="month-link" title="Jun 2019">J</a></td><td><a href="total2_composition_2019_07.html" class="month-link" title="Jul 2019">J</a></td><td><a href="total2_composition_2019_08.html" class="month-link" title="Aug 2019">A</a></td><td><a href="total2_composition_2019_09.html" class="month-link" title="Sep 2019">S</a></td><td><a href="total2_composition_2019_10.html" class="month-link" title="Oct 2019">O</a></td><td><a href="total2_composition_2019_11.html" class="month-link" title="Nov 2019">N</a></td><td><a href="total2_composition_2019_12.html" class="month-link" title="Dec 2019">D</a></td></tr>
<tr><td class="year-label">2020</td><td><a href="total2_composition_2020_01.html" class="month-link" title="Jan 2020">J</a></td><td><a href="total2_composition_2020_02.html" class="month-link" title="Feb 2020">F</a></td><td><a href="total2_composition_2020_03.html" class="month-link" title="Mar 2020">M</a></td><td><a href="total2_composition_2020_04.html" class="month-link" title="Apr 2020">A</a></td><td><a href="total2_composition_2020_05.html" class="month-link" title="May 2020">M</a></td><td><a href="total2_composition_2020_06.html" class="month-link" title="Jun 2020">J</a></td><td><a href="total2_composition_2020_07.html" class="month-link" title="Jul 2020">J</a></td><td><a href="total2_composition_2020_08.html" class="month-link" title="Aug 2020">A</a></td><td><a href="total2_composition_2020_09.html" class="month-link" title="Sep 2020">S</a></td><td><a href="total2_composition_2020_10.html" class="month-link" title="Oct 2020">O</a></td><td><a href="total2_composition_2020_11.html" class="month-link" title="Nov 2020">N</a></td><td><a href="total2_composition_2020_12.html" class="month-link" title="Dec 2020">D</a></td></tr>
<tr><td class="year-label">2021</td><td><a href="total2_composition_2021_01.html" class="month-link" title="Jan 2021">J</a></td><td><a href="total2_composition_2021_02.html" class="month-link" title="Feb 2021">F</a></td><td><a href="total2_composition_2021_03.html" class="month-link" title="Mar 2021">M</a></td><td><a href="total2_composition_2021_04.html" class="month-link" title="Apr 2021">A</a></td><td><a href="total2_composition_2021_05.html" class="month-link" title="May 2021">M</a></td><td><a href="total2_composition_2021_06.html" class="month-link" title="Jun 2021">J</a></td><td><a href="total2_composition_2021_07.html" class="month-link" title="Jul 2021">J</a></td><td><a href="total2_composition_2021_08.html" class="month-link" title="Aug 2021">A</a></td><td><a href="total2_composition_2021_09.html" class="month-link" title="Sep 2021">S</a></td><td><a href="total2_composition_2021_10.html" class="month-link" title="Oct 2021">O</a></td><td><a href="total2_composition_2021_11.html" class="month-link" title="Nov 2021">N</a></td><td><a href="total2_composition_2021_12.html" class="month-link" title="Dec 2021">D</a></td></tr>
<tr><td class="year-label">2022</td><td><a href="total2_composition_2022_01.html" class="month-link" title="Jan 2022">J</a></td><td><a href="total2_composition_2022_02.html" class="month-link" title="Feb 2022">F</a></td><td><a href="total2_composition_2022_03.html" class="month-link" title="Mar 2022">M</a></td><td><a href="total2_composition_2022_04.html" class="month-link" title="Apr 2022">A</a></td><td><a href="total2_composition_2022_05.html" class="month-link" title="May 2022">M</a></td><td><a href="total2_composition_2022_06.html" class="month-link" title="Jun 2022">J</a></td><td><a href="total2_composition_2022_07.html" class="month-link" title="Jul 2022">J</a></td><td><a href="total2_composition_2022_08.html" class="month-link" title="Aug 2022">A</a></td><td><a href="total2_composition_2022_09.html" class="month-link" title="Sep 2022">S</a></td><td><a href="total2_composition_2022_10.html" class="month-link" title="Oct 2022">O</a></td><td><a href="total2_composition_2022_11.html" class="month-link" title="Nov 2022">N</a></td><td><a href="total2_composition_2022_12.html" class="month-link" title="Dec 2022">D</a></td></tr>
<tr><td class="year-label">2023</td><td><a href="total2_composition_2023_01.html" class="month-link" title="Jan 2023">J</a></td><td><a href="total2_composition_2023_02.html" class="month-link" title="Feb 2023">F</a></td><td><a href="total2_composition_2023_03.html" class="month-link" title="Mar 2023">M</a></td><td><a href="total2_composition_2023_04.html" class="month-link" title="Apr 2023">A</a></td><td><a href="total2_composition_2023_05.html" class="month-link" title="May 2023">M</a></td><td><a href="total2_composition_2023_06.html" class="month-link" title="Jun 2023">J</a></td><td><a href="total2_composition_2023_07.html" class="month-link" title="Jul 2023">J</a></td><td><a href="total2_composition_2023_08.html" class="month-link" title="Aug 2023">A</a></td><td><a href="total2_composition_2023_09.html" class="month-link" title="Sep 2023">S</a></td><td><a href="total2_composition_2023_10.html" class="month-link" title="Oct 2023">O</a></td><td><a href="total2_composition_2023_11.html" class="month-link" title="Nov 2023">N</a></td><td><a href="total2_composition_2023_12.html" class="month-link" title="Dec 2023">D</a></td></tr>
<tr><td class="year-label">2024</td><td><a href="total2_composition_2024_01.html" class="month-link" title="Jan 2024">J</a></td><td><a href="total2_composition_2024_02.html" class="month-link" title="Feb 2024">F</a></td><td><a href="total2_composition_2024_03.html" class="month-link" title="Mar 2024">M</a></td><td><a href="total2_composition_2024_04.html" class="month-link" title="Apr 2024">A</a></td><td><a href="total2_composition_2024_05.html" class="month-link" title="May 2024">M</a></td><td><a href="total2_composition_2024_06.html" class="month-link" title="Jun 2024">J</a></td><td><a href="total2_composition_2024_07.html" class="month-link" title="Jul 2024">J</a></td><td><a href="total2_composition_2024_08.html" class="month-link" title="Aug 2024">A</a></td><td><a href="total2_composition_2024_09.html" class="month-link" title="Sep 2024">S</a></td><td><a href="total2_composition_2024_10.html" class="month-link" title="Oct 2024">O</a></td><td><a href="total2_composition_2024_11.html" class="month-link" title="Nov 2024">N</a></td><td><a href="total2_composition_2024_12.html" class="month-link" title="Dec 2024">D</a></td></tr>
<tr><td class="year-label">2025</td><td><a href="total2_composition_2025_01.html" class="month-link" title="Jan 2025">J</a></td><td><a href="total2_composition_2025_02.html" class="month-link" title="Feb 2025">F</a></td><td><a href="total2_composition_2025_03.html" class="month-link" title="Mar 2025">M</a></td><td><a href="total2_composition_2025_04.html" class="month-link" title="Apr 2025">A</a></td><td><a href="total2_composition_2025_05.html" class="month-link" title="May 2025">M</a></td><td><a href="total2_composition_2025_06.html" class="month-link" title="Jun 2025">J</a></td><td><a href="total2_composition_2025_07.html" class="month-link" title="Jul 2025">J</a></td><td><a href="total2_composition_2025_08.html" class="month-link" title="Aug 2025">A</a></td><td><a href="total2_composition_2025_09.html" class="month-link" title="Sep 2025">S</a></td><td><a href="total2_composition_2025_10.html" class="month-link" title="Oct 2025">O</a></td><td><a href="total2_composition_2025_11.html" class="month-link" title="Nov 2025">N</a></td><td><a href="total2_composition_2025_12.html" class="month-link" title="Dec 2025">D</a></td></tr>
            </table>
        </div>

        <div class="stats-row">
            <div class="stat">
                <div class="stat-label">Select Date</div>
                <select id="date-select">
                    <option value="2014-10-01 00:00:00">2014-10-01</option>
<option value="2014-10-02 00:00:00">2014-10-02</option>
<option value="2014-10-03 00:00:00">2014-10-03</option>
<option value="2014-10-04 00:00:00">2014-10-04</option>
<option value="2014-10-05 00:00:00">2014-10-05</option>
<option value="2014-10-06 00:00:00">2014-10-06</option>
<option value="2014-10-07 00:00:00">2014-10-07</option>
<option value="2014-10-08 00:00:00">2014-10-08</option>
<option value="2014-10-09 00:00:00">2014-10-09</option>
<option value="2014-10-10 00:00:00">2014-10-10</option>
<option value="2014-10-11 00:00:00">2014-10-11</option>
<option value="2014-10-12 00:00:00">2014-10-12</option>
<option value="2014-10-13 00:00:00">2014-10-13</option>
<option value="2014-10-14 00:00:00">2014-10-14</option>
<option value="2014-10-15 00:00:00">2014-10-15</option>
<option value="2014-10-16 00:00:00">2014-10-16</option>
<option value="2014-10-17 00:00:00">2014-10-17</option>
<option value="2014-10-18 00:00:00">2014-10-18</option>
<option value="2014-10-19 00:00:00">2014-10-19</option>
<option value="2014-10-20 00:00:00">2014-10-20</option>
<option value="2014-10-21 00:00:00">2014-10-21</option>
<option value="2014-10-22 00:00:00">2014-10-22</option>
<option value="2014-10-23 00:00:00">2014-10-23</option>
<option value="2014-10-24 00:00:00">2014-10-24</option>
<option value="2014-10-25 00:00:00">2014-10-25</option>
<option value="2014-10-26 00:00:00">2014-10-26</option>
<option value="2014-10-27 00:00:00">2014-10-27</option>
<option value="2014-10-28 00:00:00">2014-10-28</option>
<option value="2014-10-29 00:00:00">2014-10-29</option>
<option value="2014-10-30 00:00:00">2014-10-30</option>
<option value="2014-10-31 00:00:00">2014-10-31</option>
                </select>
            </div>
            <div class="stat">
                <div class="stat-label">TOTAL2 Value</div>
                <div class="stat-value" id="total2-value">-</div>
            </div>
            <div class="stat">
                <div class="stat-label">Coins in TOTAL2</div>
                <div class="stat-value blue" id="coin-count">-</div>
            </div>
            <div class="stat">
                <div class="stat-label">Total Volume</div>
                <div class="stat-value" id="total-volume">-</div>
            </div>
        </div>

        <div class="changes-row">
            <div class="changes-box">
                <div class="label">â†‘ New vs Previous Day</div>
                <div class="coins added" id="coins-added">-</div>
            </div>
            <div class="changes-box">
                <div class="label">â†“ Removed vs Previous Day</div>
                <div class="coins removed" id="coins-removed">-</div>
            </div>
        </div>

        <table id="composition-table">
            <thead>
                <tr>
                    <th>Rank</th>
                    <th>Coin</th>
                    <th>Weight</th>
                    <th>Price (BTC)</th>
                    <th>Volume (BTC)</th>
                </tr>
            </thead>
            <tbody id="composition-body">
            </tbody>
        </table>
    </div>

    <footer>
        <p>
            Generated by <strong>Halvix</strong> â€¢
            <a href="https://github.com/yohplala/halvix">Source Code</a> â€¢
            Data from <a href="https://www.cryptocompare.com/">CryptoCompare</a>
        </p>
    </footer>

    <script>
        const compositionData = {"2014-10-01 00:00:00": {"total2_value": 0.007417948658036497, "coins": [{"rank": 1, "coin_id": "DASH", "volume": 5.646316666666666, "weight": 80.46336341819293, "price_btc": 0.006466}, {"rank": 2, "coin_id": "LTC", "volume": 1.3249438333333334, "weight": 18.881235939097817, "price_btc": 0.0116}, {"rank": 3, "coin_id": "PPC", "volume": 0.04599111216666667, "weight": 0.6554006427092661, "price_btc": 0.003809}]}, "2014-10-02 00:00:00": {"total2_value": 0.0074837934386838304, "coins": [{"rank": 1, "coin_id": "DASH", "volume": 5.7195833333333335, "weight": 80.2619561779349, "price_btc": 0.00642}, {"rank": 2, "coin_id": "LTC", "volume": 1.3605705000000001, "weight": 19.092658238156798, "price_btc": 0.01208}, {"rank": 3, "coin_id": "PPC", "volume": 0.04599111216666667, "weight": 0.6453855839082955, "price_btc": 0.003809}]}, "2014-10-03 00:00:00": {"total2_value": 0.00740760931082296, "coins": [{"rank": 1, "coin_id": "DASH", "volume": 5.740683333333333, "weight": 80.27402780706245, "price_btc": 0.006443}, {"rank": 2, "coin_id": "LTC", "volume": 1.3613988333333331, "weight": 19.036926696328667, "price_btc": 0.01166}, {"rank": 3, "coin_id": "PPC", "volume": 0.04927611216666667, "weight": 0.6890454966088698, "price_btc": 0.0023}]}, "2014-10-04 00:00:00": {"total2_value": 0.00765664771589385, "coins": [{"rank": 1, "coin_id": "DASH", "volume": 5.701583333333333, "weight": 80.09712441952465, "price_btc": 0.006751}, {"rank": 2, "coin_id": "LTC", "volume": 1.3671426666666666, "weight": 19.205927523858705, "price_btc": 0.01153}, {"rank": 3, "coin_id": "PPC", "volume": 0.04961111216666667, "weight": 0.6969480566166406, "price_btc": 0.005}]}, "2014-10-05 00:00:00": {"total2_value": 0.008021512493094584, "coins": [{"rank": 1, "coin_id": "DASH", "volume": 5.694816666666667, "weight": 79.39904379953863, "price_btc": 0.0072}, {"rank": 2, "coin_id": "LTC", "volume": 1.4279709999999999, "weight": 19.909250571157568, "price_btc": 0.0115}, {"rank": 3, "coin_id": "PPC", "volume": 0.049611891500000005, "weight": 0.6917056293038041, "price_btc": 0.0022}]}, "2014-10-06 00:00:00": {"total2_value": 0.007629777127463575, "coins": [{"rank": 1, "coin_id": "DASH", "volume": 5.709421666666667, "weight": 79.02910345269765, "price_btc": 0.006699}, {"rank": 2, "coin_id": "LTC", "volume": 1.465421, "weight": 20.284174925613716, "price_btc": 0.01144}, {"rank": 3, "coin_id": "PPC", "volume": 0.049611891500000005, "weight": 0.6867216216886263, "price_btc": 0.0022}]}, "2014-10-07 00:00:00": {"total2_value": 0.007379206337041359, "coins": [{"rank": 1, "coin_id": "DASH", "volume": 5.7042383333333335, "weight": 78.99415022324638, "price_btc": 0.0063}, {"rank": 2, "coin_id": "LTC", "volume": 1.4672393333333331, "weight": 20.318808145426807, "price_btc": 0.01175}, {"rank": 3, "coin_id": "PPC", "volume": 0.049611891500000005, "weight": 0.687041631326835, "price_btc": 0.0022}]}, "2014-10-08 00:00:00": {"total2_value": 0.007549766095612568, "coins": [{"rank": 1, "coin_id": "DASH", "volume": 5.696321666666666, "weight": 78.7106971652315, "price_btc": 0.006633}, {"rank": 2, "coin_id": "LTC", "volume": 1.4911026666666667, "weight": 20.603775086133503, "price_btc": 0.01123}, {"rank": 3, "coin_id": "PPC", "volume": 0.049611891500000005, "weight": 0.6855277486350092, "price_btc": 0.0022}]}, "2014-10-09 00:00:00": {"total2_value": 0.007587071023900011, "coins": [{"rank": 1, "coin_id": "DASH", "volume": 5.705654999999999, "weight": 78.5931447908875, "price_btc": 0.006792}, {"rank": 2, "coin_id": "LTC", "volume": 1.5044693333333332, "weight": 20.72347103849017, "price_btc": 0.01078}, {"rank": 3, "coin_id": "PPC", "volume": 0.049611888166666666, "weight": 0.6833841706223303, "price_btc": 0.0022}]}, "2014-10-10 00:00:00": {"total2_value": 0.007037530075058334, "coins": [{"rank": 1, "coin_id": "DASH", "volume": 5.657988333333334, "weight": 78.80865649167343, "price_btc": 0.006259}, {"rank": 2, "coin_id": "LTC", "volume": 1.4718376666666666, "weight": 20.500846281438566, "price_btc": 0.0102}, {"rank": 3, "coin_id": "PPC", "volume": 0.04957355483333334, "weight": 0.6904972268879965, "price_btc": 0.002}]}, "2014-10-11 00:00:00": {"total2_value": 0.006662172095811717, "coins": [{"rank": 1, "coin_id": "DASH", "volume": 5.6872050000000005, "weight": 79.18054903711203, "price_btc": 0.00582}, {"rank": 2, "coin_id": "LTC", "volume": 1.4452008333333335, "weight": 20.12091975798748, "price_btc": 0.01}, {"rank": 3, "coin_id": "PPC", "volume": 0.050172551333333336, "weight": 0.6985312049004776, "price_btc": 0.00598}]}, "2014-10-12 00:00:00": {"total2_value": 0.006611973510046588, "coins": [{"rank": 1, "coin_id": "DASH", "volume": 5.647538333333333, "weight": 79.27005548245913, "price_btc": 0.005696}, {"rank": 2, "coin_id": "LTC", "volume": 1.4267174999999999, "weight": 20.02571186020494, "price_btc": 0.01026}, {"rank": 3, "coin_id": "PPC", "volume": 0.050172551333333336, "weight": 0.70423265733593, "price_btc": 0.00598}]}, "2014-10-13 00:00:00": {"total2_value": 0.0068362051193551895, "coins": [{"rank": 1, "coin_id": "DASH", "volume": 5.510971666666666, "weight": 78.73741961076365, "price_btc": 0.006017}, {"rank": 2, "coin_id": "LTC", "volume": 1.4379498333333334, "weight": 20.54455479987546, "price_btc": 0.01004}, {"rank": 3, "coin_id": "PPC", "volume": 0.05025588466666667, "weight": 0.7180255893608858, "price_btc": 0.005}]}, "2014-10-14 00:00:00": {"total2_value": 0.006659920498946439, "coins": [{"rank": 1, "coin_id": "DASH", "volume": 5.4633883333333335, "weight": 78.34992548091708, "price_btc": 0.005268}, {"rank": 2, "coin_id": "LTC", "volume": 1.4593781666666668, "weight": 20.928801620998456, "price_btc": 0.01201}, {"rank": 3, "coin_id": "PPC", "volume": 0.05029480133333333, "weight": 0.7212728980844663, "price_btc": 0.00262}]}, "2014-10-15 00:00:00": {"total2_value": 0.006270225231034789, "coins": [{"rank": 1, "coin_id": "DASH", "volume": 5.369905, "weight": 77.88547283895792, "price_btc": 0.005221}, {"rank": 2, "coin_id": "LTC", "volume": 1.474404, "weight": 21.38485740355759, "price_btc": 0.01021}, {"rank": 3, "coin_id": "PPC", "volume": 0.05030793466666667, "weight": 0.7296697574844875, "price_btc": 0.0028}]}, "2014-10-16 00:00:00": {"total2_value": 0.006833753375109243, "coins": [{"rank": 1, "coin_id": "DASH", "volume": 5.226821666666667, "weight": 76.91011191680369, "price_btc": 0.005813}, {"rank": 2, "coin_id": "LTC", "volume": 1.518884, "weight": 22.34963155020768, "price_btc": 0.01048}, {"rank": 3, "coin_id": "PPC", "volume": 0.05030793466666667, "weight": 0.7402565329886418, "price_btc": 0.0028}]}, "2014-10-17 00:00:00": {"total2_value": 0.00679821365243919, "coins": [{"rank": 1, "coin_id": "DASH", "volume": 4.9451383333333325, "weight": 76.25004570865774, "price_btc": 0.005749}, {"rank": 2, "coin_id": "LTC", "volume": 1.4910506666666667, "weight": 22.990799007764448, "price_btc": 0.01041}, {"rank": 3, "coin_id": "PPC", "volume": 0.04923443466666667, "weight": 0.7591552835778285, "price_btc": 0.0028}]}, "2014-10-18 00:00:00": {"total2_value": 0.006919674840494564, "coins": [{"rank": 1, "coin_id": "DASH", "volume": 4.51033, "weight": 73.68995763125143, "price_btc": 0.005663}, {"rank": 2, "coin_id": "LTC", "volume": 1.5611873333333333, "weight": 25.506743064871028, "price_btc": 0.01068}, {"rank": 3, "coin_id": "PPC", "volume": 0.049167418, "weight": 0.8032993038775497, "price_btc": 0.0028}]}, "2014-10-19 00:00:00": {"total2_value": 0.006982831064412171, "coins": [{"rank": 1, "coin_id": "DASH", "volume": 4.071646666666667, "weight": 71.74480536427184, "price_btc": 0.005767}, {"rank": 2, "coin_id": "LTC", "volume": 1.5543656666666668, "weight": 27.38883585672299, "price_btc": 0.0103}, {"rank": 3, "coin_id": "PPC", "volume": 0.049167418, "weight": 0.8663587790051681, "price_btc": 0.0028}]}, "2014-10-20 00:00:00": {"total2_value": 0.006824473401051724, "coins": [{"rank": 1, "coin_id": "DASH", "volume": 4.003096666666667, "weight": 70.6734905885733, "price_btc": 0.0055}, {"rank": 2, "coin_id": "LTC", "volume": 1.6118789999999998, "weight": 28.457248181137828, "price_btc": 0.01024}, {"rank": 3, "coin_id": "PPC", "volume": 0.049236803, "weight": 0.869261230288869, "price_btc": 0.002693}]}, "2014-10-21 00:00:00": {"total2_value": 0.0068206431293674355, "coins": [{"rank": 1, "coin_id": "DASH", "volume": 3.8960466666666664, "weight": 69.75089161731597, "price_btc": 0.00542}, {"rank": 2, "coin_id": "LTC", "volume": 1.6403640000000002, "weight": 29.367423279567213, "price_btc": 0.01022}, {"rank": 3, "coin_id": "PPC", "volume": 0.04924791966666667, "weight": 0.8816851031168219, "price_btc": 0.0044}]}, "2014-10-22 00:00:00": {"total2_value": 0.006805881037076956, "coins": [{"rank": 1, "coin_id": "DASH", "volume": 3.89883, "weight": 68.98731421967655, "price_btc": 0.005397}, {"rank": 2, "coin_id": "LTC", "volume": 1.703464, "weight": 30.141710777311943, "price_btc": 0.0101}, {"rank": 3, "coin_id": "PPC", "volume": 0.049223302999999996, "weight": 0.8709750030115055, "price_btc": 0.0044}]}, "2014-10-23 00:00:00": {"total2_value": 0.0072495310212345575, "coins": [{"rank": 1, "coin_id": "DASH", "volume": 3.8976466666666667, "weight": 67.66799803249572, "price_btc": 0.00582}, {"rank": 2, "coin_id": "LTC", "volume": 1.8130856666666666, "weight": 31.4774241528853, "price_btc": 0.0104}, {"rank": 3, "coin_id": "PPC", "volume": 0.049223302999999996, "weight": 0.8545778146189771, "price_btc": 0.0044}]}, "2014-10-24 00:00:00": {"total2_value": 0.0073416068924401145, "coins": [{"rank": 1, "coin_id": "DASH", "volume": 3.818996666666666, "weight": 65.77247177034366, "price_btc": 0.005802}, {"rank": 2, "coin_id": "LTC", "volume": 1.9381555, "weight": 33.37978244991563, "price_btc": 0.01045}, {"rank": 3, "coin_id": "PPC", "volume": 0.049223302999999996, "weight": 0.8477457797407275, "price_btc": 0.0044}]}, "2014-10-25 00:00:00": {"total2_value": 0.007284742573052852, "coins": [{"rank": 1, "coin_id": "DASH", "volume": 3.6725233333333334, "weight": 63.654045223560864, "price_btc": 0.0056}, {"rank": 2, "coin_id": "LTC", "volume": 2.047753833333333, "weight": 35.492712580102534, "price_btc": 0.01039}, {"rank": 3, "coin_id": "PPC", "volume": 0.04922785133333333, "weight": 0.8532421963365961, "price_btc": 0.0038}]}, "2014-10-26 00:00:00": {"total2_value": 0.007263195687926391, "coins": [{"rank": 1, "coin_id": "DASH", "volume": 3.5017733333333334, "weight": 61.65490075040828, "price_btc": 0.00532}, {"rank": 2, "coin_id": "LTC", "volume": 2.1286338333333332, "weight": 37.47835603145676, "price_btc": 0.01054}, {"rank": 3, "coin_id": "PPC", "volume": 0.04922785133333333, "weight": 0.8667432181349602, "price_btc": 0.0038}]}, "2014-10-27 00:00:00": {"total2_value": 0.0076092709064195675, "coins": [{"rank": 1, "coin_id": "DASH", "volume": 3.356556666666667, "weight": 60.03055856827789, "price_btc": 0.005594}, {"rank": 2, "coin_id": "LTC", "volume": 2.1856288333333334, "weight": 39.08902268533136, "price_btc": 0.01079}, {"rank": 3, "coin_id": "PPC", "volume": 0.04922785133333333, "weight": 0.8804187463907386, "price_btc": 0.0038}]}, "2014-10-28 00:00:00": {"total2_value": 0.007480888383891366, "coins": [{"rank": 1, "coin_id": "DASH", "volume": 3.3376233333333336, "weight": 59.36461879654862, "price_btc": 0.005272}, {"rank": 2, "coin_id": "LTC", "volume": 2.2353921666666667, "weight": 39.75979030037068, "price_btc": 0.01086}, {"rank": 3, "coin_id": "PPC", "volume": 0.04922785133333333, "weight": 0.8755909030806853, "price_btc": 0.0038}]}, "2014-10-29 00:00:00": {"total2_value": 0.007445157393170221, "coins": [{"rank": 1, "coin_id": "DASH", "volume": 3.34344, "weight": 57.615285593753086, "price_btc": 0.0049}, {"rank": 2, "coin_id": "LTC", "volume": 2.4103755, "weight": 41.53640347088189, "price_btc": 0.01105}, {"rank": 3, "coin_id": "PPC", "volume": 0.04922785133333333, "weight": 0.8483109353650187, "price_btc": 0.0038}]}, "2014-10-30 00:00:00": {"total2_value": 0.006959612178249938, "coins": [{"rank": 1, "coin_id": "DASH", "volume": 3.4013400000000003, "weight": 51.33991970926449, "price_btc": 0.005175}, {"rank": 2, "coin_id": "LTC", "volume": 2.579178833333333, "weight": 38.93019639882158, "price_btc": 0.01098}, {"rank": 4, "coin_id": "PPC", "volume": 0.04922785133333333, "weight": 0.7430465448655359, "price_btc": 0.0038}]}, "2014-10-31 00:00:00": {"total2_value": 0.007118828352493196, "coins": [{"rank": 1, "coin_id": "DASH", "volume": 3.3984066666666664, "weight": 51.00601272098908, "price_btc": 0.0054}, {"rank": 2, "coin_id": "LTC", "volume": 2.6146788333333335, "weight": 39.24319686116658, "price_btc": 0.01105}, {"rank": 3, "coin_id": "DOGE", "volume": 0.6004436166666667, "weight": 9.011939345086235, "price_btc": 6e-07}, {"rank": 4, "coin_id": "PPC", "volume": 0.04922785133333333, "weight": 0.738851072758104, "price_btc": 0.0038}]}};
        const sortedDates = Object.keys(compositionData).sort();

        function getPreviousDate(dateStr) {
            const idx = sortedDates.indexOf(dateStr);
            if (idx > 0) {
                return sortedDates[idx - 1];
            }
            return null;
        }

        function updateTable(dateStr) {
            const dayData = compositionData[dateStr];
            const tbody = document.getElementById('composition-body');

            if (!dayData || !dayData.coins || dayData.coins.length === 0) {
                tbody.innerHTML = '<tr><td colspan="5">No data for this date</td></tr>';
                document.getElementById('total2-value').textContent = '-';
                document.getElementById('coin-count').textContent = '-';
                document.getElementById('total-volume').textContent = '-';
                document.getElementById('coins-added').textContent = '-';
                document.getElementById('coins-added').className = 'coins none';
                document.getElementById('coins-removed').textContent = '-';
                document.getElementById('coins-removed').className = 'coins none';
                return;
            }

            const coins = dayData.coins;
            const total2Value = dayData.total2_value;

            // Display TOTAL2 value
            if (total2Value !== null && total2Value !== undefined) {
                document.getElementById('total2-value').textContent = total2Value.toFixed(8) + ' BTC';
            } else {
                document.getElementById('total2-value').textContent = '-';
            }

            document.getElementById('coin-count').textContent = coins.length;
            const totalVol = coins.reduce((sum, c) => sum + c.volume, 0);
            document.getElementById('total-volume').textContent = totalVol.toFixed(2) + ' BTC';

            // Calculate changes vs previous day
            const prevDateStr = getPreviousDate(dateStr);
            const prevData = prevDateStr ? compositionData[prevDateStr] : null;

            if (prevData && prevData.coins) {
                const currentCoins = new Set(coins.map(c => c.coin_id));
                const prevCoins = new Set(prevData.coins.map(c => c.coin_id));

                const added = [...currentCoins].filter(c => !prevCoins.has(c));
                const removed = [...prevCoins].filter(c => !currentCoins.has(c));

                const addedEl = document.getElementById('coins-added');
                const removedEl = document.getElementById('coins-removed');

                if (added.length > 0) {
                    addedEl.textContent = added.join(', ');
                    addedEl.className = 'coins added';
                } else {
                    addedEl.textContent = 'None';
                    addedEl.className = 'coins none';
                }

                if (removed.length > 0) {
                    removedEl.textContent = removed.join(', ');
                    removedEl.className = 'coins removed';
                } else {
                    removedEl.textContent = 'None';
                    removedEl.className = 'coins none';
                }
            } else {
                document.getElementById('coins-added').textContent = 'N/A (first day)';
                document.getElementById('coins-added').className = 'coins none';
                document.getElementById('coins-removed').textContent = 'N/A (first day)';
                document.getElementById('coins-removed').className = 'coins none';
            }

            tbody.innerHTML = coins.map(coin => `
                <tr>
                    <td>${coin.rank}</td>
                    <td class="coin-symbol">${coin.coin_id}</td>
                    <td class="weight">${coin.weight.toFixed(2)}%</td>
                    <td>${coin.price_btc.toFixed(8)}</td>
                    <td>${coin.volume.toFixed(2)}</td>
                </tr>
            `).join('');
        }

        document.getElementById('date-select').addEventListener('change', (e) => {
            updateTable(e.target.value);
        });

        // Initialize with last date
        const select = document.getElementById('date-select');
        select.selectedIndex = select.options.length - 1;
        updateTable(select.value);
    </script>
</body>
</html>
